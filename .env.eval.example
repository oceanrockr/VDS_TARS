# ====================================================================
# T.A.R.S. Evaluation Engine Configuration
# ====================================================================
# Copy this file to .env and update with your actual values
# Port: 8099

# Service Configuration
# ---------------------
EVAL_ENGINE_PORT=8099

# Database Configuration
# ----------------------
POSTGRES_URL=postgresql://tars:password@localhost:5432/tars
REDIS_URL=redis://localhost:6379/0

# Evaluation Settings
# -------------------
# Number of episodes for standard evaluation
EVAL_DEFAULT_EPISODES=100

# Number of episodes for quick mode (faster feedback)
EVAL_QUICK_MODE_EPISODES=50

# Maximum concurrent evaluations per worker
EVAL_MAX_CONCURRENT=4

# Maximum number of environments to cache (LRU eviction)
EVAL_ENV_CACHE_SIZE=50

# Regression Detection Thresholds
# --------------------------------
# Maximum allowed failure rate (0.15 = 15% failures triggers regression)
EVAL_FAILURE_RATE=0.15

# Maximum allowed reward drop percentage (0.10 = 10% drop triggers regression)
EVAL_REWARD_DROP_PCT=0.10

# Number of episodes to analyze for loss trend detection
EVAL_LOSS_TREND_WINDOW=10

# Maximum allowed variance increase multiplier (2.5x variance triggers regression)
EVAL_VARIANCE_MULTIPLIER=2.5

# JWT Authentication (shared with other T.A.R.S. services)
# ---------------------------------------------------------
JWT_SECRET_KEY=your-secret-key-here-change-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Logging Configuration
# ----------------------
LOG_LEVEL=INFO

# Production Deployment Notes
# ---------------------------
# - Update JWT_SECRET_KEY with a strong random key (use: openssl rand -hex 32)
# - Use strong PostgreSQL password
# - Enable Redis password if exposed to network
# - Set LOG_LEVEL=WARNING in production for better performance
